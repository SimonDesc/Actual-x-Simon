{% extends 'base.html.twig' %}

{% block header_title %}
  Bienvenue sur la page Manager
{% endblock %}

{% block content %}
  <div class="container mx-auto p-4">
    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
      <div class="mb-4">
        <label for="manager-select" class="block w-full text-3xl font-semibold my-8 p-3 border border-red-600 rounded-lg">1. Choisissez un Manager</label>
        <select name="manager" id="manager-select" class="my-5 block w-96 pl-3 pr-10 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:">
          {% for manager in managers %}
            <option value="{{ manager.id }}">{{ manager.name }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="container mx-auto">
      <div class="bg-white shadow-md rounded-lg p-6 mb-6">
        <div class="mb-4">
          <label for="student-select" class="block w-full text-3xl font-semibold my-8 p-3 border border-red-600 rounded-lg">2. Ajoutez un apprenant</label>
          <div class="flex items-center space-x-2 mt-5">
            <select name="student" id="student-select" class="mt-1 block w-96 pl-3 pr-10 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:">
              {% for student in students %}
                <option value="{{ student.id }}">
                  {{ student.firstname }}
                  {{ student.lastname }}
                  {% if student.manager is not null %}
                    (Manager : {{ student.manager.name }})
                  {% endif %}
                </option>
              {% endfor %}
            </select>
            <i class="fa fa-plus-circle add-icon-to-manager text-green-500 cursor-pointer" aria-hidden="true"></i>
          </div>
        </div>

        <h3 class="block w-full text-3xl font-semibold my-8 p-3 border border-red-600 rounded-lg">Apprenant du Manager</h3>
        <ul id="student-list" class="list-disc space-y-2">
          {# List dynamically generated by js/manager/utils/getStudentListByManager.js #}
        </ul>
    </div>

        <div class="container mx-auto">
          <div class="bg-white shadow-md rounded-lg p-6 mb-6">
            <div class="mt-6">
              <label class="block w-full text-3xl font-semibold my-8 p-3 border border-red-600 rounded-lg">Inscrire</label>
              <div class="flex items-center space-x-2 mt-5">
                <select name="student" id="student-select-module" class="block w-96 pl-3 pr-10 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:">
                  {% for student in students %}
                    <option value="{{ student.id }}">
                      {{ student.firstname }} {{ student.lastname }}
                      {% if student.manager is not null %}
                        (Manager : {{ student.manager.name }})
                      {% endif %}
                    </option>
                  {% endfor %}
                </select>
                <span class="">au cours</span>
                <select name="module" id="module-select" class="block w-96 pl-3 pr-10 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:">
                  {% for module in modules %}
                    <option value="{{ module.id }}">{{ module.title }}</option>
                  {% endfor %}
                </select>
                <i class="fa fa-plus-circle add-icon-to-module text-green-500 cursor-pointer" aria-hidden="true"></i>
              </div>
            </div>
          </div>
        </div>
  
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script type="module" src="{{ asset('js/manager/main.js') }}"></script>
{% endblock %}
